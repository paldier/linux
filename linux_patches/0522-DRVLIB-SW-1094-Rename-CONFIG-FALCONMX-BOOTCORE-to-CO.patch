From cd0dee9bc7aa6350187a324cfa785aae2efd18f3 Mon Sep 17 00:00:00 2001
From: Peter Harliman Liem <peter.harliman.liem@intel.com>
Date: Mon, 4 Mar 2019 11:41:59 +0800
Subject: [PATCH] DRVLIB_SW-1094 - Rename CONFIG_FALCONMX_BOOTCORE to
 CONFIG_PRX300_BOOTCORE

---
 .../include/asm/mach-lantiq/grx500/grx500_bootcore_chadr.h   |  4 ++--
 .../include/asm/mach-lantiq/grx500/grx500_bootcore_time.h    | 12 ++++++------
 arch/mips/include/asm/mach-lantiq/spaces.h                   |  2 +-
 arch/mips/lantiq/Kconfig                                     |  4 ++--
 arch/mips/lantiq/grx500_bootcore/clk.c                       |  2 +-
 arch/mips/lantiq/grx500_bootcore/early_printk.c              |  6 +++---
 arch/mips/lantiq/grx500_bootcore/sysctrl.c                   | 12 ++++++------
 7 files changed, 21 insertions(+), 21 deletions(-)

diff --git a/arch/mips/include/asm/mach-lantiq/grx500/grx500_bootcore_chadr.h b/arch/mips/include/asm/mach-lantiq/grx500/grx500_bootcore_chadr.h
index 81298c7cee6e..57d634b0c826 100644
--- a/arch/mips/include/asm/mach-lantiq/grx500/grx500_bootcore_chadr.h
+++ b/arch/mips/include/asm/mach-lantiq/grx500/grx500_bootcore_chadr.h
@@ -34,13 +34,13 @@
 #define LTQ_MUX_TEP			(CONST_IFMUX_CFG_BBTEPUART_EN_TEP_U<<IFMUX_CFG_BBTEPUART_EN_POS)
 #endif /* CONFIG_SOC_GRX500_BOOTCORE */
 
-#ifdef CONFIG_SOC_FALCONMX_BOOTCORE
+#ifdef CONFIG_SOC_PRX300_BOOTCORE
 #define LTQ_GPIO_PAD_CTRL_BASE_ADDR	0x16310000
 #define LTQ_GPIO_PAD_CTRL		KSEG1ADDR(LTQ_GPIO_PAD_CTRL_BASE_ADDR)
 #define LTQ_PORTMUXC30			((u32 *)(LTQ_GPIO_PAD_CTRL + 0x0078))
 #define LTQ_PORTMUXC31			((u32 *)(LTQ_GPIO_PAD_CTRL + 0x007C))
 #define LTQ_MUX_TEP			0x4
-#endif /* CONFIG_SOC_FALCONMX_BOOTCORE  */
+#endif /* CONFIG_SOC_PRX300_BOOTCORE  */
 
 
 #undef MT_EXTERN
diff --git a/arch/mips/include/asm/mach-lantiq/grx500/grx500_bootcore_time.h b/arch/mips/include/asm/mach-lantiq/grx500/grx500_bootcore_time.h
index 15bc21158777..f53a887206bf 100644
--- a/arch/mips/include/asm/mach-lantiq/grx500/grx500_bootcore_time.h
+++ b/arch/mips/include/asm/mach-lantiq/grx500/grx500_bootcore_time.h
@@ -47,23 +47,23 @@ extern unsigned int system_to_cpu_multiplier;
 
 #if 1
 #ifdef CONFIG_USE_EMULATOR
-#ifdef CONFIG_SOC_FALCONMX_BOOTCORE
+#ifdef CONFIG_SOC_PRX300_BOOTCORE
 #define GRX500_BOOTCORE_SYSTEM_CLK  15000000
 #define GRX500_BOOTCORE_CPU_CLK     15000000;
-#else /* CONFIG_SOC_FALCONMX_BOOTCORE */
+#else /* CONFIG_SOC_PRX300_BOOTCORE */
 #define GRX500_BOOTCORE_SYSTEM_CLK  6000000
 #define GRX500_BOOTCORE_CPU_CLK     6000000; //480000000
-#endif /* CONFIG_SOC_FALCONMX_BOOTCORE */
+#endif /* CONFIG_SOC_PRX300_BOOTCORE */
 #else
-#ifdef CONFIG_SOC_FALCONMX_BOOTCORE
+#ifdef CONFIG_SOC_PRX300_BOOTCORE
 #define CLOCK_500M  500000000
 #define GRX500_BOOTCORE_SYSTEM_CLK CLOCK_500M
 #define GRX500_BOOTCORE_CPU_CLK    CLOCK_500M
-#else /* CONFIG_SOC_FALCONMX_BOOTCORE */
+#else /* CONFIG_SOC_PRX300_BOOTCORE */
 #define CLOCK_300M  300000000
 #define GRX500_BOOTCORE_SYSTEM_CLK CLOCK_300M
 #define GRX500_BOOTCORE_CPU_CLK    CLOCK_300M
-#endif /* CONFIG_SOC_FALCONMX_BOOTCORE */
+#endif /* CONFIG_SOC_PRX300_BOOTCORE */
 #endif
 #else
 #define GRX500_BOOTCORE_SYSTEM_CLK  (24000000*GRX500_BOOTCORE_SCALE_VAL)
diff --git a/arch/mips/include/asm/mach-lantiq/spaces.h b/arch/mips/include/asm/mach-lantiq/spaces.h
index 8498d30de1cd..08216f7097b1 100755
--- a/arch/mips/include/asm/mach-lantiq/spaces.h
+++ b/arch/mips/include/asm/mach-lantiq/spaces.h
@@ -273,7 +273,7 @@
 #ifdef CONFIG_SOC_TYPE_GRX500_TEP
 
 /* skip first 128 MB DDR */
-#if defined(CONFIG_SOC_FALCONMX_BOOTCORE) && defined(CONFIG_USE_EMULATOR)
+#if defined(CONFIG_SOC_PRX300_BOOTCORE) && defined(CONFIG_USE_EMULATOR)
 #define MIPS_RESERVED_MEM_SIZE	_AC(0x06000000, UL)
 #else
 #define MIPS_RESERVED_MEM_SIZE	_AC(0x08000000, UL)
diff --git a/arch/mips/lantiq/Kconfig b/arch/mips/lantiq/Kconfig
index 76f6f0a1de41..41fc5c3a3ad8 100755
--- a/arch/mips/lantiq/Kconfig
+++ b/arch/mips/lantiq/Kconfig
@@ -61,8 +61,8 @@ config SOC_GRX500_BOOTCORE
 	bool "GRX500_BOOTCORE"
 	select SOC_TYPE_GRX500_TEP
 
-config SOC_FALCONMX_BOOTCORE
-	bool "FALCONMX_BOOTCORE"
+config SOC_PRX300_BOOTCORE
+	bool "PRX300_BOOTCORE"
 	select SOC_TYPE_GRX500_TEP
 
 endchoice
diff --git a/arch/mips/lantiq/grx500_bootcore/clk.c b/arch/mips/lantiq/grx500_bootcore/clk.c
index 5ce63cf6c0a7..e29c657a7d2f 100644
--- a/arch/mips/lantiq/grx500_bootcore/clk.c
+++ b/arch/mips/lantiq/grx500_bootcore/clk.c
@@ -50,7 +50,7 @@ unsigned long ltq_grx500_cpu_hz(void)
 #else
         unsigned int clksys = CLOCK_300M;
 
-#ifdef CONFIG_SOC_FALCONMX_BOOTCORE
+#ifdef CONFIG_SOC_PRX300_BOOTCORE
 		clksys = CLOCK_500M;
 #endif
         return clksys;
diff --git a/arch/mips/lantiq/grx500_bootcore/early_printk.c b/arch/mips/lantiq/grx500_bootcore/early_printk.c
index 42049057049e..98ef696c93fe 100644
--- a/arch/mips/lantiq/grx500_bootcore/early_printk.c
+++ b/arch/mips/lantiq/grx500_bootcore/early_printk.c
@@ -206,12 +206,12 @@ int __init setup_early_lntq_console(char *cmdline)
 	UART16550_WRITE(REG_CPU_SUB_CLK_GATE, CPU_SUB_CLK_GATE_MASK_ALL);	// CPU_SUB_CLK_GATE all gated
 	UART16550_WRITE(REG_CPU_SUB_RST, CPU_SUB_RST_MASK_RST);		// CPU_SUB_RST all reset
 	UART16550_WRITE(REG_UART_CONTROL, UART16550_TX_OUTPUT_DISABLE);	// CPU_UART_CTL TX_OE tx out disable
-	#ifdef CONFIG_SOC_FALCONMX_BOOTCORE
+	#ifdef CONFIG_SOC_PRX300_BOOTCORE
 	ltq_w32(LTQ_MUX_TEP, LTQ_PORTMUXC30); // GPI0 30 MUX -> TEP UART RX
 	ltq_w32(LTQ_MUX_TEP, LTQ_PORTMUXC31); // GPI0 31 MUX -> TEP UART TX
-	#elif defined(CONFIG_SOC_GRX500_BOOTCORE) /* CONFIG_SOC_FALCONMX_BOOTCORE */
+	#elif defined(CONFIG_SOC_GRX500_BOOTCORE) /* CONFIG_SOC_PRX300_BOOTCORE */
 	ltq_w32_mask(IFMUX_CFG_BBTEPUART_EN_MASK, LTQ_MUX_TEP, LTQ_IFMUX_CFG); // IFMUX_CFG , BBTEPUART_EN=TEP_U
-	#endif /* CONFIG_SOC_FALCONMX_BOOTCORE */
+	#endif /* CONFIG_SOC_PRX300_BOOTCORE */
 
 	//config HW
 	console_config();
diff --git a/arch/mips/lantiq/grx500_bootcore/sysctrl.c b/arch/mips/lantiq/grx500_bootcore/sysctrl.c
index 109a24ccd9bd..798383bf7878 100644
--- a/arch/mips/lantiq/grx500_bootcore/sysctrl.c
+++ b/arch/mips/lantiq/grx500_bootcore/sysctrl.c
@@ -191,12 +191,12 @@ void __init ltq_soc_init(void)
 
 	/* check if all the core register ranges are available */
 	if (!np_pmu || !np_ebu)
-#ifdef CONFIG_SOC_FALCONMX_BOOTCORE
-		/* no ebu or pmu setting on falconmx */
+#ifdef CONFIG_SOC_PRX300_BOOTCORE
+		/* no ebu or pmu setting on prx300 */
 		goto set_clk;
-#else /* CONFIG_SOC_FALCONMX_BOOTCORE */
+#else /* CONFIG_SOC_PRX300_BOOTCORE */
 		panic("Failed to load core nodes from devicetree");
-#endif /* CONFIG_SOC_FALCONMX_BOOTCORE */
+#endif /* CONFIG_SOC_PRX300_BOOTCORE */
 
 	if (of_address_to_resource(np_pmu, 0, &res_pmu) ||
 		of_address_to_resource(np_ebu, 0, &res_ebu))
@@ -216,9 +216,9 @@ void __init ltq_soc_init(void)
 	ltq_ebu_w32(ltq_ebu_r32(LTQ_EBU_BUSCON0) & ~EBU_WRDIS,
 			LTQ_EBU_BUSCON0);
 
-#ifdef CONFIG_SOC_FALCONMX_BOOTCORE
+#ifdef CONFIG_SOC_PRX300_BOOTCORE
 	set_clk:
-#endif /* CONFIG_SOC_FALCONMX_BOOTCORE */
+#endif /* CONFIG_SOC_PRX300_BOOTCORE */
 
 		clk = kzalloc(sizeof(struct clk), GFP_KERNEL);
 		if (clk) {
