From 5e6360b216bc5f26a0bdf95b421ec9b2f56e0512 Mon Sep 17 00:00:00 2001
From: kavitha3 <k.subramanian@intel.com>
Date: Thu, 6 Jun 2019 14:26:46 +0800
Subject: [PATCH] DRVLIB_SW-2370: Fix the queue ID lookup table set for Mode3
 operation in CQM driver

---
 drivers/net/ethernet/lantiq/cqm/prx300/cqm.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/lantiq/cqm/prx300/cqm.c b/drivers/net/ethernet/lantiq/cqm/prx300/cqm.c
index 3f787b795f1d..56d70462d5b1 100644
--- a/drivers/net/ethernet/lantiq/cqm/prx300/cqm.c
+++ b/drivers/net/ethernet/lantiq/cqm/prx300/cqm.c
@@ -1027,8 +1027,8 @@ static void cqm_qidt_set_mode3(const struct cqm_qidt_elm *qid_set,
 				      qid_mask->sub_if_id_mask,
 				      &qidt_elm.sub_if_id,
 				      &qidt_idx.sub_if_id);
-			sel_field = (qidt_elm.sub_if_id << 4) |
-				     (qidt_elm.clsid & 0xf);
+			sel_field = (qidt_elm.sub_if_id << 3) |
+				     (qidt_elm.clsid & 0x7);
 		break;
 		case STATE_EP:
 			handle_state(&state, STATE_MPE1, STATE_SUBIF_ID, 16,
