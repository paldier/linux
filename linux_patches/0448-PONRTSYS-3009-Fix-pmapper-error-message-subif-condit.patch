From b8ac96f5b2174956b39ef90bb8fbe34950b658c0 Mon Sep 17 00:00:00 2001
From: Rekha Eswaran <rekha.eswaran@intel.com>
Date: Thu, 10 Jan 2019 11:31:30 +0800
Subject: [PATCH] PONRTSYS-3009: Fix pmapper error message subif condition
 check

---
 drivers/net/ethernet/lantiq/datapath/datapath_api.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/drivers/net/ethernet/lantiq/datapath/datapath_api.c b/drivers/net/ethernet/lantiq/datapath/datapath_api.c
index 5bf3af36ae37..0cefa400c344 100644
--- a/drivers/net/ethernet/lantiq/datapath/datapath_api.c
+++ b/drivers/net/ethernet/lantiq/datapath/datapath_api.c
@@ -1634,9 +1634,9 @@ int dp_set_pmapper(struct net_device *dev, struct dp_pmapper *mapper, u32 flag)
 	}
 	/* get the subif from the dev */
 	ret = dp_get_netif_subifid(dev, NULL, NULL, NULL, &subif, 0);
-	if ((ret == DP_FAILURE) || (subif.flag_bp == 0)) {
-		PR_ERR("Fail to get the subif:dev=%s ret=%d flag_bp=%d bp=%d\n",
-		       dev->name, ret, subif.flag_bp, subif.bport);
+	if ((ret == DP_FAILURE) || (subif.flag_pmapper == 0)) {
+		PR_ERR("Fail to get subif:dev=%s ret=%d flag_pmap=%d bp=%d\n",
+		       dev->name, ret, subif.flag_pmapper, subif.bport);
 		return DP_FAILURE;
 	}
 	inst = subif.inst;
@@ -1720,7 +1720,7 @@ int dp_get_pmapper(struct net_device *dev, struct dp_pmapper *mapper, u32 flag)
 
 	/*get the subif from the dev*/
 	ret = dp_get_netif_subifid(dev, NULL, NULL, NULL, &subif, 0);
-	if (ret == DP_FAILURE || subif.flag_bp == 0) {
+	if (ret == DP_FAILURE || subif.flag_pmapper == 0) {
 		PR_ERR("Can not get the subif from the dev\n");
 		return DP_FAILURE;
 	}
