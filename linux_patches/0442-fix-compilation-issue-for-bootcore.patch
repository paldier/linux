From d2f021360b982edc875f43092176cb75a0be5369 Mon Sep 17 00:00:00 2001
From: yixin zhu <yixin.zhu@intel.com>
Date: Fri, 18 Jan 2019 18:20:17 +0800
Subject: [PATCH] fix compilation issue for bootcore

---
 arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h | 11 ++++++++++-
 arch/mips/lantiq/grx500/prom.c                        |  7 -------
 arch/mips/lantiq/grx500_bootcore/prom.c               | 13 +++----------
 3 files changed, 13 insertions(+), 18 deletions(-)

diff --git a/arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h b/arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h
index 17164382deb7..b9101e3412ab 100755
--- a/arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h
+++ b/arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h
@@ -24,7 +24,7 @@
 #define SOC_ID_GRX3508		0x028
 #define SOC_ID_IRX200		0x02F
 
-/* FalconMX family chipid */
+/* PRX300 family chipid */
 #define SOC_ID_FMX_FIBERPHY	0x002 /* HGU */
 #define SOC_ID_FMX_SFU		0x003
 #define SOC_ID_FMX_SFP		0x004
@@ -34,6 +34,15 @@
 #define SOC_TYPE_GRX500		0x09
 #define SOC_TYPE_PRX300		0x0a
 
+/* SoC Name */
+#define SOC_GRX500		"GRX500"
+#define SOC_GRX350		"GRX350"
+#define SOC_PRX300		"PRX300"
+
+/* SoC compatible */
+#define COMP_GRX500		"lantiq,grx500"
+#define COMP_PRX300		"intel,prx300"
+
 static inline int ltq_is_grx500(void)
 {
 	return (ltq_get_soc_type() == SOC_TYPE_GRX500);
diff --git a/arch/mips/lantiq/grx500/prom.c b/arch/mips/lantiq/grx500/prom.c
index 471b60923fa8..2e710cf7a01f 100755
--- a/arch/mips/lantiq/grx500/prom.c
+++ b/arch/mips/lantiq/grx500/prom.c
@@ -22,13 +22,6 @@
 
 #include "prom.h"
 
-#define SOC_GRX500		"GRX500"
-#define SOC_GRX350		"GRX350"
-#define SOC_PRX300		"PRX300"
-
-#define COMP_GRX500		"lantiq,grx500"
-#define COMP_PRX300		"intel,prx300"
-
 #define PART_SHIFT		12
 #define PART_MASK		0x0FFFFFFF
 #define REV_SHIFT		28
diff --git a/arch/mips/lantiq/grx500_bootcore/prom.c b/arch/mips/lantiq/grx500_bootcore/prom.c
index 8dce895ade1f..d00371b33a99 100644
--- a/arch/mips/lantiq/grx500_bootcore/prom.c
+++ b/arch/mips/lantiq/grx500_bootcore/prom.c
@@ -23,13 +23,6 @@
 #include "clk.h"
 
 
-#define SOC_GRX500      "GRX500"
-#define SOC_GRX350      "GRX350"
-#define SOC_FALCONMX    "FALCONMX"
-
-#define COMP_GRX500     "lantiq,grx500"
-#define COMP_FALCONMX   "intel,falconmx"
-
 #ifdef CONFIG_USE_EMULATOR
 #define SOC_ID_PD 0
 #endif
@@ -178,9 +171,9 @@ void __init ltq_soc_detect(struct ltq_soc_info *i)
         case SOC_ID_FMX_SFP:
         case SOC_ID_FMX_SFU:
         case SOC_ID_FMX_DPU:
-                i->name = SOC_FALCONMX;
-                i->type = SOC_TYPE_FALCONMX;
-                i->compatible = COMP_FALCONMX;
+                i->name = SOC_PRX300;
+                i->type = SOC_TYPE_PRX300;
+                i->compatible = COMP_PRX300;
                 break;
 
 #ifdef CONFIG_USE_EMULATOR
