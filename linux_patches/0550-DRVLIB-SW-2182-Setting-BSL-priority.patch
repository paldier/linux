From c7fd4aa8d70e1003d544412fdf06ddc017594311 Mon Sep 17 00:00:00 2001
From: Dinesh Sudham <dineshx.sudham@intel.com>
Date: Wed, 17 Apr 2019 12:04:37 +0800
Subject: [PATCH] DRVLIB_SW-2182: Setting BSL priority

---
 drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c b/drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c
index 5716e62471ca..8567f67cf700 100644
--- a/drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c
+++ b/drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c
@@ -436,6 +436,10 @@ static int pmac_eg_cfg(struct core_ops *ops, u8 pmacid, u8 dpu)
 					/* Pmac1, PCE bypass traffic to MAC2*/
 					/* Pmac0, PCE-Bypass Traf to MAC3-MAC4*/
 					else {
+						if (m == 3 || m == 4)
+							/* BSL priority to 1 for Dest port 3 and 4*/
+							/* support for above 3.0 GSWIP versions */
+							eg_cfg.nBslTrafficClass =1;
 						/* Every Pkt has Pmac header */
 						eg_cfg.bPmacEna = 1;
 						/* Pkt can be segmented. */
