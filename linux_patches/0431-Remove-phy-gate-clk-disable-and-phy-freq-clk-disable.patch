From d2602384e23b35c7e48b34675cd73cb865dbb847 Mon Sep 17 00:00:00 2001
From: thampan <joby.thampan@intel.com>
Date: Thu, 10 Jan 2019 18:04:10 +0800
Subject: [PATCH] Remove phy_gate_clk_disable and phy_freq_clk_disable while
 phy power off, otherwise LAN0 and LAN1 cannot reinitialize

---
 drivers/net/ethernet/lantiq/xpcs/xpcs.c | 2 +-
 drivers/phy/intel/phy-intel-combo.c     | 2 --
 2 files changed, 1 insertion(+), 3 deletions(-)

diff --git a/drivers/net/ethernet/lantiq/xpcs/xpcs.c b/drivers/net/ethernet/lantiq/xpcs/xpcs.c
index d8493e26fd9c..2e5ea2a85dc5 100644
--- a/drivers/net/ethernet/lantiq/xpcs/xpcs.c
+++ b/drivers/net/ethernet/lantiq/xpcs/xpcs.c
@@ -992,7 +992,7 @@ int xpcs_ethtool_ksettings_set(struct device *dev,
 		pr_err("XPCS %s is not initialized\n",pdata->name);
 		return -1;
 	}
-	
+
 	if (speed != SPEED_10000 &&
 	    speed != SPEED_1000)
 		return -EINVAL;
diff --git a/drivers/phy/intel/phy-intel-combo.c b/drivers/phy/intel/phy-intel-combo.c
index 317fb08a1883..aa9d9a0e9bd9 100644
--- a/drivers/phy/intel/phy-intel-combo.c
+++ b/drivers/phy/intel/phy-intel-combo.c
@@ -419,8 +419,6 @@ static int intel_phy_power_off(struct phy_ctx *iphy)
 		return ret;
 	}
 
-	//intel_phy_gate_clk_disable(iphy);
-	//intel_phy_freq_clk_disable(iphy);
 	iphy->power_en = false;
 
 	return 0;
