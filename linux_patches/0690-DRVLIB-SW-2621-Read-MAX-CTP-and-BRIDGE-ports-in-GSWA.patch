From b02422f0d5d9fc2e3a782759c25c4b6101860c90 Mon Sep 17 00:00:00 2001
From: Dinesh Sudham <dineshx.sudham@intel.com>
Date: Fri, 19 Jul 2019 10:44:02 +0800
Subject: [PATCH] DRVLIB_SW-2621: Read MAX CTP and BRIDGE ports in GSWAPI

---
 drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c b/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c
index f06eda30895f..24e770661e9c 100644
--- a/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c
+++ b/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c
@@ -185,6 +185,8 @@ static gsw_capdesc_t capdes[] = {
 	{ GSW_CAP_TYPE_RT_MTU, "Number of MTU Entries:"},
 	{ GSW_CAP_TYPE_RT_TUNNEL, "Number of Tunnel Entries:"},
 	{ GSW_CAP_TYPE_RT_RTP, "Number of RTP Entries:"},
+	{ GSW_CAP_TYPE_CTP, "Number of CTP ports"},
+	{ GSW_CAP_TYPE_BRIDGE_PORT, "Number of bridge ports"},
 	{ GSW_CAP_TYPE_LAST, "Last Capability Index"}
 };
 
@@ -11803,6 +11805,14 @@ GSW_return_t GSW_CapGet(void *cdev, GSW_cap_t *parm)
 		parm->nCap = gswdev->num_of_rt_rtp;
 		break;
 
+	case GSW_CAP_TYPE_CTP:
+		parm->nCap = gswdev->num_of_ctp;
+		break;
+
+	case GSW_CAP_TYPE_BRIDGE_PORT:
+		parm->nCap = gswdev->num_of_bridge_port;
+		break;
+
 	case GSW_CAP_TYPE_LAST:
 		parm->nCap = GSW_CAP_TYPE_LAST;
 		break;
