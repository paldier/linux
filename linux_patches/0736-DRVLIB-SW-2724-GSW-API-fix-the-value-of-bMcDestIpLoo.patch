From 7f15af09aecb94318e4d0a9d2e1063a3bc532411 Mon Sep 17 00:00:00 2001
From: Xu Liang <liang.xu@intel.com>
Date: Thu, 8 Aug 2019 15:42:30 +0800
Subject: [PATCH] DRVLIB_SW-2724 - GSW API, fix the value of
 bMcDestIpLookupDisable as it's inverted

---
 drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c b/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c
index 3c1203db8490..6a22d43ae352 100644
--- a/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c
+++ b/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c
@@ -22805,9 +22805,9 @@ GSW_return_t GSW_BridgePortConfigSet(void *cdev, GSW_BRIDGE_portConfig_t *param)
 	if (param->eMask & GSW_BRIDGE_PORT_CONFIG_MASK_MC_DEST_IP_LOOKUP) {
 		/* 0- disable , 1 - enable*/
 		if (param->bMcDestIpLookupDisable)
-			tbl_prog_brdgeport_ingress.val[0] |= (1 << 13);
-		else
 			tbl_prog_brdgeport_ingress.val[0] &= ~(1 << 13);
+		else
+			tbl_prog_brdgeport_ingress.val[0] |= (1 << 13);
 	}
 
 #ifdef GSW_BRIDGE_PORT_SRC_IP_LOOKUP_DISABLE
@@ -23892,7 +23892,7 @@ GSW_return_t GSW_BridgePortConfigGet(void *cdev, GSW_BRIDGE_portConfig_t *param)
 	}
 
 	if (param->eMask & GSW_BRIDGE_PORT_CONFIG_MASK_MC_DEST_IP_LOOKUP)
-		param->bMcDestIpLookupDisable = ((tbl_prog_brdgeport_ingress.val[0] & 0x2000) >> 13);
+		param->bMcDestIpLookupDisable = ((~tbl_prog_brdgeport_ingress.val[0] & 0x2000) >> 13);
 
 	if (param->eMask & GSW_BRIDGE_PORT_CONFIG_MASK_MC_SRC_IP_LOOKUP)
 		param->bMcSrcIpLookupEnable = ((tbl_prog_brdgeport_ingress.val[0] & 0x200) >> 9);
