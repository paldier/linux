From efa09c0614b54502a8cdbbea3afad4df99126106 Mon Sep 17 00:00:00 2001
From: Wu Zhixian <zhixianx.wu@intel.com>
Date: Thu, 5 Jul 2018 10:02:34 +0800
Subject: [PATCH] fix debug code

---
 drivers/watchdog/grx500_wdt.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/drivers/watchdog/grx500_wdt.c b/drivers/watchdog/grx500_wdt.c
index 12742e509ef8..a82c1d8cf0e7 100644
--- a/drivers/watchdog/grx500_wdt.c
+++ b/drivers/watchdog/grx500_wdt.c
@@ -220,7 +220,8 @@ static irqreturn_t grx500wdt_irq(int irqno, void *param)
 	struct watchdog_device *grx500_wdt;
 
 	grx500_wdt = &per_cpu(grx500wdt, smp_processor_id());
-	grx500wdt_start(grx500_wdt);
+	/* enable this for dump data */
+/*	grx500wdt_start(grx500_wdt);*/
 	WARN_ONCE(1, " IRQ %d triggered as WDT%d Timer Overflow on CPU %d!\n",
 		irqno, grx500_wdt->id, smp_processor_id());
 
@@ -266,7 +267,7 @@ static int grx500wdt_probe(struct platform_device *pdev)
 	setup_percpu_irq(irq, &grx500wdt_irqaction);
 
 	/* Get the Clock frequency */
-	clk = devm_clk_get(&pdev->dev, "cpuclk");
+	clk = devm_clk_get(&pdev->dev, "freq");
 	if (IS_ERR(clk)) {
 		dev_err(&pdev->dev, "Failed to get CPU clock: %ld\n",
 			PTR_ERR(clk));
