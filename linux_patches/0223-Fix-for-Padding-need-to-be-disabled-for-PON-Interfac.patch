From ceab0cdc7addc7bcb20cb424f18514af09a10583 Mon Sep 17 00:00:00 2001
From: thampan <joby.thampan@intel.com>
Date: Mon, 13 Aug 2018 11:15:30 +0800
Subject: [PATCH] Fix for Padding need to be disabled for PON Interface

---
 drivers/net/ethernet/lantiq/datapath/gswip31/datapath_misc.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/drivers/net/ethernet/lantiq/datapath/gswip31/datapath_misc.c b/drivers/net/ethernet/lantiq/datapath/gswip31/datapath_misc.c
index ac34148a5285..ab6455c1d396 100644
--- a/drivers/net/ethernet/lantiq/datapath/gswip31/datapath_misc.c
+++ b/drivers/net/ethernet/lantiq/datapath/gswip31/datapath_misc.c
@@ -790,6 +790,8 @@ static int pon_config(int inst, int ep, struct dp_port_data *data, u32 flags)
 	cpu_port_cfg.nPortId = ep;
 	cpu_port_cfg.bSpecialTagIngress = 1;
 	cpu_port_cfg.bSpecialTagEgress = 1;
+	/* Padding should be disabled for PON Interface */
+	cpu_port_cfg.bFcsTxOps = GSW_CRC_EN_PAD_DIS;
 	ret = gsw_core_api((dp_gsw_cb)gsw_handle->gsw_common_ops.CPU_PortCfgSet,
 			   gsw_handle, &cpu_port_cfg);
 	if (ret != GSW_statusOk) {
