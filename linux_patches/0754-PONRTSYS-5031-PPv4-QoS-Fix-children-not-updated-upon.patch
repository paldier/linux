From 21911e51ea8d6d55ea3062cf81c288dcd46df552 Mon Sep 17 00:00:00 2001
From: ofirbitt <ofir1.bitton@intel.com>
Date: Wed, 21 Aug 2019 15:46:45 +0300
Subject: [PATCH] PONRTSYS-5031: PPv4 QoS Fix children not updated upon parent
 move

---
 drivers/net/ethernet/lantiq/ppv4/qos/pp_qos_utils.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/lantiq/ppv4/qos/pp_qos_utils.c b/drivers/net/ethernet/lantiq/ppv4/qos/pp_qos_utils.c
index 1a09bf4f0de2..b287e3a8a384 100644
--- a/drivers/net/ethernet/lantiq/ppv4/qos/pp_qos_utils.c
+++ b/drivers/net/ethernet/lantiq/ppv4/qos/pp_qos_utils.c
@@ -2999,7 +2999,7 @@ void update_children_position(
 	create_parent_change_cmd(qdev,
 			get_phy_from_node(qdev->nodes, parent));
 
-	if (node_parent(child))
+	if (node_parent(node))
 		tree_update_predecessors(qdev, new_phy);
 }
 
