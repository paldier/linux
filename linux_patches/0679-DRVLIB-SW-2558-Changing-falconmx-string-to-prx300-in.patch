From 9ca91d44de395aa371cdde099c4495a7a57397b4 Mon Sep 17 00:00:00 2001
From: Dinesh Sudham <dineshx.sudham@intel.com>
Date: Thu, 11 Jul 2019 10:26:41 +0800
Subject: [PATCH] DRVLIB_SW-2558: Changing falconmx string to prx300 in gswip

---
 drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c     | 4 ++--
 drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.h     | 2 +-
 drivers/net/ethernet/lantiq/switch-api/gsw_init.c          | 2 +-
 drivers/net/ethernet/lantiq/switch-api/gswip_dev/gsw_dev.c | 8 ++++----
 drivers/net/ethernet/lantiq/switch-api/mac/xgmac_mac_api.c | 2 +-
 include/net/switch_api/gsw_dev.h                           | 2 +-
 include/net/switch_api/lantiq_gsw.h                        | 6 +++---
 include/net/switch_api/mac_ops.h                           | 2 +-
 8 files changed, 14 insertions(+), 14 deletions(-)

diff --git a/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c b/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c
index cd23db8087b7..f06eda30895f 100644
--- a/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c
+++ b/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.c
@@ -25513,7 +25513,7 @@ GSW_return_t GSW_DefaultMacFilterSet(void *cdev, GSW_MACFILTER_default_t *param)
 	spin_lock_bh(&gswdev->lock_misc);
 #endif
 
-	/*   Each bit stands for 1 bridge port. For Falcon-Mx (GSWIP-3.1 integrated),
+	/*   Each bit stands for 1 bridge port. For PRX300 (GSWIP-3.1 integrated),
 	   only index 0-7 is valid. */
 	switch (param->eType) {
 	case GSW_MACFILTERTYPE_SRC:
@@ -25558,7 +25558,7 @@ GSW_return_t GSW_DefaultMacFilterGet(void *cdev, GSW_MACFILTER_default_t *param)
 	spin_lock_bh(&gswdev->lock_misc);
 #endif
 
-	/*   Each bit stands for 1 bridge port. For Falcon-Mx (GSWIP-3.1 integrated),
+	/*   Each bit stands for 1 bridge port. For PRX300 (GSWIP-3.1 integrated),
 	   only index 0-7 is valid. */
 	switch (param->eType) {
 	case GSW_MACFILTERTYPE_SRC:
diff --git a/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.h b/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.h
index 139ef41bd66c..6b1759a92608 100644
--- a/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.h
+++ b/drivers/net/ethernet/lantiq/switch-api/gsw_flow_core.h
@@ -854,7 +854,7 @@ typedef struct {
 	u8 	DiscardUntagged;
 	u8	DiscardUnMatchedTagged;
 	GSW_VlanFilterTciMask_t FilterMask;
-	/*Not available for Falcon-10G*/
+	/*Not available for PRX300-10G*/
 	u8	UseDefaultPortVid;
 } vlanfilter_entry_idx;
 
diff --git a/drivers/net/ethernet/lantiq/switch-api/gsw_init.c b/drivers/net/ethernet/lantiq/switch-api/gsw_init.c
index 9fa0a2702f4a..f976c813818e 100644
--- a/drivers/net/ethernet/lantiq/switch-api/gsw_init.c
+++ b/drivers/net/ethernet/lantiq/switch-api/gsw_init.c
@@ -1304,7 +1304,7 @@ void gsw_api_disable_switch_ports(void)
 EXPORT_SYMBOL(gsw_api_disable_switch_ports);
 
 static const struct of_device_id ltq_switch_api_match[] = {
-	{ .compatible = "intel,falconmx-gswapi" },
+	{ .compatible = "intel,prx300-gswapi" },
 	{},
 };
 
diff --git a/drivers/net/ethernet/lantiq/switch-api/gswip_dev/gsw_dev.c b/drivers/net/ethernet/lantiq/switch-api/gswip_dev/gsw_dev.c
index 7a1520693434..fe3f192efba9 100644
--- a/drivers/net/ethernet/lantiq/switch-api/gswip_dev/gsw_dev.c
+++ b/drivers/net/ethernet/lantiq/switch-api/gswip_dev/gsw_dev.c
@@ -19,7 +19,7 @@
 #include <gsw_flow_core.h>
 
 #define GRX500_MACH_NAME        		"lantiq,xrx500"
-#define FALC_MACH_NAME          		"intel,falconmx"
+#define PRX300_MACH_NAME          		"intel,prx300"
 #define DEVID_STR               		"intel,gsw-devid"
 #define EXTERNAL_SWITCH_DEVID    		"intel,gsw_ext-devid"
 #define EXTERNAL_SWITCH_PHYID			"intel,gsw_ext-phyid"
@@ -117,7 +117,7 @@ static struct resource grx500_core_res_r[] = {
 };
 
 /* Multi Functional Devices inside GSWIP Sub-System
- * for product Falcon-Mx
+ * for product PRX300
  */
 static struct gsw_cell gsw_dev_cells[] = {
 	/* MAC 0 */
@@ -151,7 +151,7 @@ static struct gsw_cell gsw_dev_cells[] = {
 		.resources = &falc_mac_res;
 
 	},
-	/* GSW CORE L or Falcon Mx */
+	/* GSW CORE L or PRX300 */
 	{
 		.name = CORE_DEV_NAME,
 		.cell_id = 3,
@@ -421,7 +421,7 @@ static int gsw_parse_dt(struct device_node *base_node)
 	if (of_machine_is_compatible(GRX500_MACH_NAME))
 		prod_id |= GRX500;
 
-	if (of_machine_is_compatible(FALC_MACH_NAME))
+	if (of_machine_is_compatible(PRX300_MACH_NAME))
 		prod_id |= PRX300;
 
 	if (!prod_id) {
diff --git a/drivers/net/ethernet/lantiq/switch-api/mac/xgmac_mac_api.c b/drivers/net/ethernet/lantiq/switch-api/mac/xgmac_mac_api.c
index dabf1f430b2f..53d4caf3c194 100644
--- a/drivers/net/ethernet/lantiq/switch-api/mac/xgmac_mac_api.c
+++ b/drivers/net/ethernet/lantiq/switch-api/mac/xgmac_mac_api.c
@@ -1596,7 +1596,7 @@ int xgmac_set_hwtstamp_settings(void *pdev,
 	}
 
 	if (ptp_flgs.ptp_rx_en != 0) {
-		/* In FalconMx all packets have timestamp */
+		/* In PRX300 all packets have timestamp */
 		ptp_flgs.ptp_rx_en |= PTP_RX_EN_ALL;
 
 		MAC_SET_VAL(mac_tscr, MAC_TSTAMP_CR, TSENA, 1);
diff --git a/include/net/switch_api/gsw_dev.h b/include/net/switch_api/gsw_dev.h
index 4ee4bb6c5fbb..feef8fdf6cd4 100644
--- a/include/net/switch_api/gsw_dev.h
+++ b/include/net/switch_api/gsw_dev.h
@@ -29,7 +29,7 @@
 /* This represents the GSWIP SubSystem block, one instance per SubSystem
  * For xrx500 GSWIP-L device ID is 0
  * For xrx500 GSWIP-R device ID is 1
- * For Falcon-Mx device ID is 0
+ * For PRX300 device ID is 0
  */
 struct gswss {
 	/* Product ID, GRX500, PRX300, ..... */
diff --git a/include/net/switch_api/lantiq_gsw.h b/include/net/switch_api/lantiq_gsw.h
index 19f1b2ecbceb..f6461f7eea18 100644
--- a/include/net/switch_api/lantiq_gsw.h
+++ b/include/net/switch_api/lantiq_gsw.h
@@ -3620,7 +3620,7 @@ typedef struct {
 	/** Use default port VLAN ID for VLAN filtering
 
 	    \remarks
-	    This field is not available in Falcon-Mx. */
+	    This field is not available in PRX300. */
 	ltq_bool_t bUseDefaultPortVID;
 } GSW_VLANFILTER_alloc_t;
 
@@ -4081,7 +4081,7 @@ typedef struct {
 	/** If \ref GSW_BRIDGE_PORT_ALLOC is successful, a valid ID will be returned
 	    in this field. Otherwise, \ref INVALID_HANDLE is returned in this field.
 	    For \ref GSW_BRIDGE_PORT_FREE, this field should be valid ID returned by
-	    \ref GSW_BRIDGE_PORT_ALLOC. ID 0 is special for CPU port in Falcon-Mx
+	    \ref GSW_BRIDGE_PORT_ALLOC. ID 0 is special for CPU port in PRX300
 	    by mapping to CTP 0 (Logical Port 0 with Sub-interface ID 0), and
 	    pre-alloced during initialization. */
 	u32 nBridgePortId;
@@ -4471,7 +4471,7 @@ typedef struct {
 	/** Destination bridge port map. For GSWIP-3.1 only.
 
 	    \remarks
-	    Each bit stands for 1 bridge port. For Falcon-Mx (GSWIP-3.1 integrated),
+	    Each bit stands for 1 bridge port. For PRX300 (GSWIP-3.1 integrated),
 	    only index 0-7 is valid. */
 	u16 nPortmap[16];
 } GSW_MACFILTER_default_t;
diff --git a/include/net/switch_api/mac_ops.h b/include/net/switch_api/mac_ops.h
index ff78b348159c..61e2568111a5 100644
--- a/include/net/switch_api/mac_ops.h
+++ b/include/net/switch_api/mac_ops.h
@@ -529,7 +529,7 @@ struct mac_ops {
 	/* This function Sets the MTU Configuration
 	 * param[in/out]IN:	ops	MAC ops Struct registered for MAC 0/1/2.
 	 * param[in/out]IN:	MTU
-	 *			Max MTU that can be set is 10000 for Falcon-Mx
+	 *			Max MTU that can be set is 10000 for PRX300
 	 * return	OUT	-1:	MTU set exceed the Max limit
 	 */
 	int (*set_mtu)(void *, u32);
