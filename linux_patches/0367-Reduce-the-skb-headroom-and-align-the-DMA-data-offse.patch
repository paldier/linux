From 0aa83660efa708264f182bff8266f7b78f1427dc Mon Sep 17 00:00:00 2001
From: kavitha3 <k.subramanian@intel.com>
Date: Mon, 26 Nov 2018 17:41:49 +0800
Subject: [PATCH] Reduce the skb headroom and align the DMA data offset 128
 Bytes

---
 drivers/net/ethernet/lantiq/cqm/cqm_common.h | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/lantiq/cqm/cqm_common.h b/drivers/net/ethernet/lantiq/cqm/cqm_common.h
index ab41357c5904..549d360061da 100644
--- a/drivers/net/ethernet/lantiq/cqm/cqm_common.h
+++ b/drivers/net/ethernet/lantiq/cqm/cqm_common.h
@@ -13,7 +13,11 @@
 #define LS_PORT_NUM             4
 #define CBM_MAX_INT_LINES       8
 #define CBM_DMA_DESC_OWN        1U/*belong to DMA*/
-#define CBM_DMA_DATA_OFFSET     128
+ /* DMA offset to be 128 byte aligned
+  * CBM_DMA_DATA_OFFSET + NET_IP_ALIGN + NET_SKB_PAD +
+  * CQM_POOL_METADATA = 128 + 6(byte offset for IP ALIGN)
+  */
+#define CBM_DMA_DATA_OFFSET     96
 /* TCP lite and LRO expects it to be 128 */
 #define CBM_GRX550_DMA_DATA_OFFSET     128
 #define DEFAULT_WAIT_CYCLES     20
