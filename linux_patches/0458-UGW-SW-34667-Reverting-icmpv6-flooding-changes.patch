From 8c038b3fb93084ae3836208d01225676633b587b Mon Sep 17 00:00:00 2001
From: gsupriya <supriya1.g@intel.com>
Date: Wed, 6 Feb 2019 13:39:32 +0530
Subject: [PATCH] UGW_SW-34667: Reverting icmpv6 flooding changes

---
 net/bridge/ltq_br_mcast_snooping.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/net/bridge/ltq_br_mcast_snooping.c b/net/bridge/ltq_br_mcast_snooping.c
index 3cfef1f25920..b7f148032794 100644
--- a/net/bridge/ltq_br_mcast_snooping.c
+++ b/net/bridge/ltq_br_mcast_snooping.c
@@ -580,13 +580,13 @@ static int br_selective_flood6(struct net_bridge_port *p, struct sk_buff *skb)
 			case ICMPV6_MGM_REPORT:
 			case ICMPV6_MGM_REDUCTION:
 			case ICMPV6_MLD2_REPORT:
-				return 0;	/* Allow control packets */
+				return 1;	/* Allow control packets */
 			default:
 				break;
 			}
 		}
 	} else if (iph->nexthdr == IPPROTO_ICMPV6) {
-		return 0;       /* Allow all other ICMPv6 packets  */
+		return 1;       /* Allow all other ICMPv6 packets  */
 	}
 
 	return br_snoop_multicast_data(p, &daddr, &saddr);
