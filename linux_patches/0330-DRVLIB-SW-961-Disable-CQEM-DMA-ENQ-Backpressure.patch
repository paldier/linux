From 61e72f0cb9b875d328149fba8359b8931ca830bb Mon Sep 17 00:00:00 2001
From: kavitha3 <k.subramanian@intel.com>
Date: Thu, 18 Oct 2018 18:20:49 +0800
Subject: [PATCH] DRVLIB_SW-961:Disable CQEM DMA ENQ Backpressure

---
 drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

diff --git a/drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c b/drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c
index 567fc765677d..be86abe92fcf 100644
--- a/drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c
+++ b/drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c
@@ -3083,17 +3083,14 @@ static void init_cqm_enq_dma_port(int idx, s32 type)
 			   NET_IP_ALIGN +
 			   NET_SKB_PAD +
 			   CQM_POOL_METADATA);
-	/*enable backpressure*/
 	cbm_w32(enq + EQ_DMA_PORT(idx, cfg),
 		CFG_DMA_IGP_4_EQREQ_MASK |
-		CFG_DMA_IGP_4_EQPCEN_MASK |
-		CFG_DMA_IGP_4_BP_EN_MASK);
+		CFG_DMA_IGP_4_EQPCEN_MASK);
 
 	dev_dbg(cqm_ctrl->dev, "0x%x\n", (int)enq + EQ_DMA_PORT(idx, cfg));
 
 	dev_dbg(cqm_ctrl->dev, "0x%x\n", CFG_DMA_IGP_4_EQREQ_MASK |
-		  CFG_DMA_IGP_4_EQPCEN_MASK |
-		  CFG_DMA_IGP_4_BP_EN_MASK);
+		  CFG_DMA_IGP_4_EQPCEN_MASK);
 }
 
 static void setup_deq_dma_desc(u32 pid, u32 desc_num)
