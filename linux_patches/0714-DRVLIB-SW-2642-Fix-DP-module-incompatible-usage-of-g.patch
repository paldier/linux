From 0ad6a75cbf9a85b14f29c1e15dea9c0bffca73d6 Mon Sep 17 00:00:00 2001
From: Gu Chao <gux.chao@intel.com>
Date: Mon, 22 Jul 2019 18:43:08 +0800
Subject: [PATCH] DRVLIB_SW-2642: Fix DP module incompatible usage of global
 variables in inline function

---
 drivers/net/datapath/dpm/datapath.h     |  3 +++
 drivers/net/datapath/dpm/datapath_api.c | 12 ++++++++++++
 2 files changed, 15 insertions(+)

diff --git a/drivers/net/datapath/dpm/datapath.h b/drivers/net/datapath/dpm/datapath.h
index 6cc430e47d33..07c222016433 100644
--- a/drivers/net/datapath/dpm/datapath.h
+++ b/drivers/net/datapath/dpm/datapath.h
@@ -733,6 +733,9 @@ static inline struct pmac_port_info *get_dp_port_info(int inst, int index)
 	return NULL;
 }
 
+struct inst_property *dp_port_prop_dbg(int inst);
+struct pmac_port_info *dp_port_info_dbg(int inst, int index);
+
 static inline struct dp_subif_info *get_dp_port_subif(
 	const struct pmac_port_info *port, u16 subif_id)
 {
diff --git a/drivers/net/datapath/dpm/datapath_api.c b/drivers/net/datapath/dpm/datapath_api.c
index 0f9fbf025937..30c04cd04bdb 100644
--- a/drivers/net/datapath/dpm/datapath_api.c
+++ b/drivers/net/datapath/dpm/datapath_api.c
@@ -139,6 +139,18 @@ void *dp_get_ops(int inst, enum DP_OPS_TYPE type)
 }
 EXPORT_SYMBOL(dp_get_ops);
 
+struct inst_property *dp_port_prop_dbg(int inst)
+{
+	return get_dp_port_prop(inst);
+}
+EXPORT_SYMBOL(dp_port_prop_dbg);
+
+struct pmac_port_info *dp_port_info_dbg(int inst, int index)
+{
+	return get_dp_port_info(inst, index);
+}
+EXPORT_SYMBOL(dp_port_info_dbg);
+
 char *get_dp_port_type_str(int k)
 {
 	return dp_port_type_str[k];
