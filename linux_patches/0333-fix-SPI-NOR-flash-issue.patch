From 9048976ee6c47a0a4c15c515312aa4f8e084eeee Mon Sep 17 00:00:00 2001
From: Wu Zhixian <zhixianx.wu@intel.com>
Date: Thu, 18 Oct 2018 17:16:08 +0800
Subject: [PATCH] fix SPI NOR flash issue

---
 drivers/dma/intel/cdma.c | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

diff --git a/drivers/dma/intel/cdma.c b/drivers/dma/intel/cdma.c
index 1612a1c46a09..349d7c99fcea 100755
--- a/drivers/dma/intel/cdma.c
+++ b/drivers/dma/intel/cdma.c
@@ -533,7 +533,10 @@ int dma_device_register(_dma_device_info *dev)
 	case DMA_BURSTL_4DW:
 		txbl = IFX_DMA_BURSTL_4;
 		break;
-	default:
+    case DMA_BURSTL_2DW:
+        txbl = IFX_DMA_BURSTL_2;
+        break;
+    default:
 		txbl = DMA_PORT_DEFAULT_TX_BURST_LEN;
 	}
 	switch (dev->rx_burst_len) {
@@ -543,7 +546,10 @@ int dma_device_register(_dma_device_info *dev)
 	case DMA_BURSTL_4DW:
 		rxbl = IFX_DMA_BURSTL_4;
 		break;
-	default:
+    case DMA_BURSTL_2DW:
+        rxbl = IFX_DMA_BURSTL_2;
+        break;
+    default:
 		rxbl = DMA_PORT_DEFAULT_RX_BURST_LEN;
 	}
 	spin_lock_irqsave(&g_dma_spinlock, flags);
