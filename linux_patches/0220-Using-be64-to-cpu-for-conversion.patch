From e026e74568e700eb1f7b52ac9912e6f7eb4dfc92 Mon Sep 17 00:00:00 2001
From: thampan <joby.thampan@intel.com>
Date: Thu, 9 Aug 2018 17:29:45 +0800
Subject: [PATCH] Using be64_to_cpu for conversion

---
 .../net/ethernet/lantiq/switch-api/mac/xgmac_ptp.c  | 21 +--------------------
 1 file changed, 1 insertion(+), 20 deletions(-)

diff --git a/drivers/net/ethernet/lantiq/switch-api/mac/xgmac_ptp.c b/drivers/net/ethernet/lantiq/switch-api/mac/xgmac_ptp.c
index 78625d7666d8..8f492948ed01 100644
--- a/drivers/net/ethernet/lantiq/switch-api/mac/xgmac_ptp.c
+++ b/drivers/net/ethernet/lantiq/switch-api/mac/xgmac_ptp.c
@@ -452,23 +452,6 @@ int xgmac_rx_hwts(void *pdev, struct sk_buff *skb)
 	return 0;
 }
 
-u64 ntoh64(const u64 *input)
-{
-	u64 rval;
-	u8 *data = (u8 *)&rval;
-
-	data[0] = *input >> 56;
-	data[1] = *input >> 48;
-	data[2] = *input >> 40;
-	data[3] = *input >> 32;
-	data[4] = *input >> 24;
-	data[5] = *input >> 16;
-	data[6] = *input >> 8;
-	data[7] = *input >> 0;
-
-	return rval;
-}
-
 /* Update the received timestamp in skbhwtstamp
  * which will be used by PTP app
  */
@@ -502,9 +485,7 @@ static void xgmac_get_rx_tstamp(struct mac_prv_data *pdata,
 	 * Field: 00  		SYSTIMH    	SYSTIML
 	 */
 
-#if !defined(CONFIG_CPU_BIG_ENDIAN)
-	regval = ntoh64(regval);
-#endif
+	regval = be64_to_cpu(regval);
 
 	ns = ((((regval & 0xffffffff00000000) >> 32) * NSEC_TO_SEC) +
 	      (regval & 0x00000000ffffffff));
