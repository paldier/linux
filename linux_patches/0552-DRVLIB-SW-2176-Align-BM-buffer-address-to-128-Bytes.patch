From bd48944da980139903ba6eec7befb5f836004d5a Mon Sep 17 00:00:00 2001
From: kavitha3 <k.subramanian@intel.com>
Date: Tue, 16 Apr 2019 18:13:16 +0800
Subject: [PATCH] DRVLIB_SW-2176: Align BM buffer address to 128 Bytes

---
 drivers/net/ethernet/lantiq/cqm/cqm_common.h | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/lantiq/cqm/cqm_common.h b/drivers/net/ethernet/lantiq/cqm/cqm_common.h
index 549d360061da..7ed9366215c6 100644
--- a/drivers/net/ethernet/lantiq/cqm/cqm_common.h
+++ b/drivers/net/ethernet/lantiq/cqm/cqm_common.h
@@ -17,7 +17,11 @@
   * CBM_DMA_DATA_OFFSET + NET_IP_ALIGN + NET_SKB_PAD +
   * CQM_POOL_METADATA = 128 + 6(byte offset for IP ALIGN)
   */
-#define CBM_DMA_DATA_OFFSET     96
+#define CBM_DMA_ALIGN 128
+#define CBM_BYTE_OFFSET 6
+#define CBM_DMA_DATA_OFFSET     \
+(CBM_DMA_ALIGN + CBM_BYTE_OFFSET - NET_IP_ALIGN  - \
+NET_SKB_PAD - CQM_POOL_METADATA)
 /* TCP lite and LRO expects it to be 128 */
 #define CBM_GRX550_DMA_DATA_OFFSET     128
 #define DEFAULT_WAIT_CYCLES     20
