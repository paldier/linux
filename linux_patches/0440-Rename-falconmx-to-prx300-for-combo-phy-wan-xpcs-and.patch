From 3b01717973227c33cd301893e625d5d081a9e9d8 Mon Sep 17 00:00:00 2001
From: yixin zhu <yixin.zhu@intel.com>
Date: Thu, 17 Jan 2019 11:02:33 +0800
Subject: [PATCH] Rename falconmx to prx300 for combo-phy, wan-xpcs and prom

---
 arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h |  6 +++---
 arch/mips/lantiq/grx500/prom.c                        | 10 +++++-----
 drivers/phy/intel/phy-intel-combo.c                   | 18 +++++++++---------
 drivers/phy/intel/phy-intel-wan-xpcs.c                |  2 +-
 4 files changed, 18 insertions(+), 18 deletions(-)

diff --git a/arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h b/arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h
index a1f4da6de3ac..17164382deb7 100755
--- a/arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h
+++ b/arch/mips/include/asm/mach-lantiq/grx500/lantiq_soc.h
@@ -32,16 +32,16 @@
 
 /* SoC Types */
 #define SOC_TYPE_GRX500		0x09
-#define SOC_TYPE_FALCONMX	0x0a
+#define SOC_TYPE_PRX300		0x0a
 
 static inline int ltq_is_grx500(void)
 {
 	return (ltq_get_soc_type() == SOC_TYPE_GRX500);
 }
 
-static inline int ltq_is_falconmx(void)
+static inline int ltq_is_prx300(void)
 {
-	return (ltq_get_soc_type() == SOC_TYPE_FALCONMX);
+	return (ltq_get_soc_type() == SOC_TYPE_PRX300);
 }
 
 /* BOOT_SEL - find what boot media we have */
diff --git a/arch/mips/lantiq/grx500/prom.c b/arch/mips/lantiq/grx500/prom.c
index ac00c8da2b2a..471b60923fa8 100755
--- a/arch/mips/lantiq/grx500/prom.c
+++ b/arch/mips/lantiq/grx500/prom.c
@@ -24,10 +24,10 @@
 
 #define SOC_GRX500		"GRX500"
 #define SOC_GRX350		"GRX350"
-#define SOC_FALCONMX		"FALCONMX"
+#define SOC_PRX300		"PRX300"
 
 #define COMP_GRX500		"lantiq,grx500"
-#define COMP_FALCONMX		"intel,falconmx"
+#define COMP_PRX300		"intel,prx300"
 
 #define PART_SHIFT		12
 #define PART_MASK		0x0FFFFFFF
@@ -236,9 +236,9 @@ static void __init ltq_soc_detect(struct ltq_soc_info *i)
 	case SOC_ID_FMX_SFP:
 	case SOC_ID_FMX_SFU:
 	case SOC_ID_FMX_DPU:
-		i->name = SOC_FALCONMX;
-		i->type = SOC_TYPE_FALCONMX;
-		i->compatible = COMP_FALCONMX;
+		i->name = SOC_PRX300;
+		i->type = SOC_TYPE_PRX300;
+		i->compatible = COMP_PRX300;
 		break;
 	default:
 		unreachable();
diff --git a/drivers/phy/intel/phy-intel-combo.c b/drivers/phy/intel/phy-intel-combo.c
index aa9d9a0e9bd9..5f78749202d6 100644
--- a/drivers/phy/intel/phy-intel-combo.c
+++ b/drivers/phy/intel/phy-intel-combo.c
@@ -1109,7 +1109,7 @@ static void twh_combo_phy_mode_set(struct intel_combo_phy *priv)
 }
 
 /* Falconmx platform data */
-static unsigned long falconmx_get_clk_rate(enum intel_phy_mode mode)
+static unsigned long prx300_get_clk_rate(enum intel_phy_mode mode)
 {
 	if (mode == PHY_PCIE_MODE) {
 		return CLK_100MHZ;
@@ -1121,7 +1121,7 @@ static unsigned long falconmx_get_clk_rate(enum intel_phy_mode mode)
 	return 0;  /* Other mode No support */
 }
 
-static u32 falconmx_get_phy_cap(unsigned int id)
+static u32 prx300_get_phy_cap(unsigned int id)
 {
 	const unsigned int phy_num = 1;
 
@@ -1131,7 +1131,7 @@ static u32 falconmx_get_phy_cap(unsigned int id)
 		return 0;
 }
 
-static void falconmx_combo_phy_mode_set(struct intel_combo_phy *priv)
+static void prx300_combo_phy_mode_set(struct intel_combo_phy *priv)
 {
 	const int reg_off = 0x120;
 	const int bit_off = 2;
@@ -1160,16 +1160,16 @@ static const struct intel_cbphy_soc_data twh_phy_data = {
 	.combo_phy_mode_set = twh_combo_phy_mode_set,
 };
 
-static const struct intel_cbphy_soc_data falconmx_phy_data = {
-	.name = "Falcon MX",
-	.get_clk_rate = falconmx_get_clk_rate,
-	.get_phy_cap = falconmx_get_phy_cap,
-	.combo_phy_mode_set = falconmx_combo_phy_mode_set,
+static const struct intel_cbphy_soc_data prx300_phy_data = {
+	.name = "PRX300",
+	.get_clk_rate = prx300_get_clk_rate,
+	.get_phy_cap = prx300_get_phy_cap,
+	.combo_phy_mode_set = prx300_combo_phy_mode_set,
 };
 
 static const struct of_device_id of_intel_combo_phy_match[] = {
 	{ .compatible = "intel,combophy-twh", .data = &twh_phy_data },
-	{ .compatible = "intel,combophy-falconmx", .data = &falconmx_phy_data },
+	{ .compatible = "intel,combophy-prx300", .data = &prx300_phy_data },
 	{}
 };
 MODULE_DEVICE_TABLE(of, of_intel_combo_phy_match);
diff --git a/drivers/phy/intel/phy-intel-wan-xpcs.c b/drivers/phy/intel/phy-intel-wan-xpcs.c
index b5dd9627da1d..933fdbe2fa19 100644
--- a/drivers/phy/intel/phy-intel-wan-xpcs.c
+++ b/drivers/phy/intel/phy-intel-wan-xpcs.c
@@ -198,7 +198,7 @@ static int intel_wan_xpcs_phy_probe(struct platform_device *pdev)
 }
 
 static const struct of_device_id of_intel_wan_xpcs_phy_match[] = {
-	{ .compatible = "intel,wanxpcsphy-falconmx" },
+	{ .compatible = "intel,wanxpcsphy-prx300" },
 	{}
 };
 MODULE_DEVICE_TABLE(of, of_intel_wan_xpcs_phy_match);
