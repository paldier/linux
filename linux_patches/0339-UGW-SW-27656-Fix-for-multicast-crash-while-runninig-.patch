From 6f1f879d92664b09b45429d1d499665d1185c872 Mon Sep 17 00:00:00 2001
From: gsupriya <supriya1.g@intel.com>
Date: Mon, 20 Aug 2018 14:56:48 +0530
Subject: [PATCH] UGW_SW-27656: Fix for multicast crash while runninig
 automaton - Master Branch

---
 net/mcast_helper/mcast_helper.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/net/mcast_helper/mcast_helper.c b/net/mcast_helper/mcast_helper.c
index 4a45095cc3ec..cf7cb25d1384 100644
--- a/net/mcast_helper/mcast_helper.c
+++ b/net/mcast_helper/mcast_helper.c
@@ -1598,6 +1598,8 @@ static long mcast_helper_ioctl(struct file *f, unsigned int cmd, unsigned long a
 			netdev = mcast_helper_dev_get_by_name(&init_net, mcast_mem.memIntrfName);
 			rxnetdev = mcast_helper_dev_get_by_name(&init_net, mcast_mem.rxIntrfName);
 #endif
+			if (rxnetdev == NULL || netdev == NULL)
+				return -ENXIO;
 
 			rtnl_lock();
 			upper_dev = netdev_master_upper_dev_get(rxnetdev);
