From 143e32549964c0f9a4dd997f2b3eb881f4b3dd3d Mon Sep 17 00:00:00 2001
From: thampan <joby.thampan@intel.com>
Date: Wed, 10 Oct 2018 10:52:06 +0800
Subject: [PATCH] GSWIP shortcut mode changed to bitmap

---
 drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c b/drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c
index 39394c486129..25b441b94c4d 100644
--- a/drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c
+++ b/drivers/net/ethernet/lantiq/switch-api/gsw_defconf.c
@@ -88,7 +88,7 @@ int gsw_set_def_pce_qmap(struct core_ops *ops)
 			memset(&q_map, 0, sizeof(GSW_QoS_queuePort_t));
 			q_map.nPortId = gsw_pce_path[j].eg_lpid;
 
-			if (gswdev->gsw_mode == GSW_SHORTCUT_MODE) {
+			if ((gswdev->gsw_mode & BIT(0)) == GSW_SHORTCUT_MODE) {
 				if (q_map.nPortId == LOG_3) {
 					q_map.nQueueId = 0;	/* Use Q0 */
 					q_map.nRedirectPortId = LOG_3;
