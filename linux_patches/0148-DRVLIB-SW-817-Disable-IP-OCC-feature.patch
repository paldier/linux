From f6b2897c2b7447395ce194c626fc3839996357da Mon Sep 17 00:00:00 2001
From: kavitha3 <k.subramanian@intel.com>
Date: Fri, 13 Jul 2018 16:47:31 +0800
Subject: [PATCH] DRVLIB_SW-817:Disable IP OCC feature

---
 drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c b/drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c
index 720b9cb9e71f..29c0de399417 100644
--- a/drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c
+++ b/drivers/net/ethernet/lantiq/cqm/falconmx/cqm.c
@@ -3695,6 +3695,7 @@ static int cqm_falconmx_probe(struct platform_device *pdev)
 	if (cbm_hw_init(pdev))
 		return -1;
 	configure_ports(cqm_ctrl->cqm_cfg);
+	cbm_w32(cqm_ctrl->enq + IP_OCC_EN, 0);
 	cbm_w32((cqm_ctrl->cqm + CBM_BSL_CTRL), CBM_BSL_CTRL_BSL1_EN_MASK |
 		CBM_BSL_CTRL_BSL2_EN_MASK);
 	/*Enable the EQM and DQM contollers*/
