From 1b551ed9410775592b5d0894a3ba811183430195 Mon Sep 17 00:00:00 2001
From: Rekha Eswaran <rekha.eswaran@intel.com>
Date: Tue, 11 Sep 2018 12:01:20 +0800
Subject: [PATCH] DRVLIB_SW-853: CTP_TC kernel flag review comments fix

---
 drivers/net/ethernet/lantiq/datapath/datapath_misc.c | 8 ++++++++
 include/net/datapath_api.h                           | 2 --
 2 files changed, 8 insertions(+), 2 deletions(-)

diff --git a/drivers/net/ethernet/lantiq/datapath/datapath_misc.c b/drivers/net/ethernet/lantiq/datapath/datapath_misc.c
index 4186b73e075d..45af7a6c3231 100644
--- a/drivers/net/ethernet/lantiq/datapath/datapath_misc.c
+++ b/drivers/net/ethernet/lantiq/datapath/datapath_misc.c
@@ -1216,3 +1216,11 @@ int dp_meter_del(struct net_device *dev, struct dp_meter_cfg *meter,
 						    flag, &mtr_subif);
 }
 EXPORT_SYMBOL(dp_meter_del);
+
+#if (!IS_ENABLED(CONFIG_LTQ_DATAPATH_SWITCHDEV))
+int dp_get_fid_by_brname(struct net_device *dev, int *inst)
+{
+	PR_ERR("API not support when SWDEV disabled\n");
+	return -1;
+}
+#endif
diff --git a/include/net/datapath_api.h b/include/net/datapath_api.h
index 179c58cbf6e5..cd23cb631dd8 100644
--- a/include/net/datapath_api.h
+++ b/include/net/datapath_api.h
@@ -1269,9 +1269,7 @@ int dp_dma_chan_irq_rx_enable(int inst, struct dp_dma_ch *ch, int flag);
  *@param[out] inst: DP instance ID
  *@return Returns GSWIP bridge id i.e. FID
  */
-#if IS_ENABLED(CONFIG_LTQ_DATAPATH_SWITCHDEV)
 int dp_get_fid_by_brname(struct net_device *dev, int *inst);
-#endif
 
 #endif /*DATAPATH_API_H */
 
