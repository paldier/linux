From 89f07a892b009ea76f7acaad7b2057b2220b35f1 Mon Sep 17 00:00:00 2001
From: thampan <joby.thampan@intel.com>
Date: Mon, 29 Apr 2019 18:08:11 +0800
Subject: [PATCH] Fix for xgmac-ptp-clock-does-not-generate-extts-events

---
 drivers/net/ethernet/lantiq/switch-api/mac/gswss_api.c | 2 --
 1 file changed, 2 deletions(-)

diff --git a/drivers/net/ethernet/lantiq/switch-api/mac/gswss_api.c b/drivers/net/ethernet/lantiq/switch-api/mac/gswss_api.c
index b005bd789be1..08a1c2d7d8a0 100644
--- a/drivers/net/ethernet/lantiq/switch-api/mac/gswss_api.c
+++ b/drivers/net/ethernet/lantiq/switch-api/mac/gswss_api.c
@@ -440,7 +440,6 @@ int gswss_set_interrupt(void *pdev, u32 mod, u32 idx, u32 enable)
 		//	   enable ? "ENABLED" : "DISABLED");
 
 		mac_int_en0 = GSWSS_RGRD(pdata, GSWIPSS_IER0);
-		idx += GSWIPSS_IER0_XGMAC2_POS;
 		SET_N_BITS(mac_int_en0, idx, GSWIPSS_IER0_XGMAC2_WIDTH, enable);
 		GSWSS_RGWR(pdata, GSWIPSS_IER0, mac_int_en0);
 		break;
@@ -450,7 +449,6 @@ int gswss_set_interrupt(void *pdev, u32 mod, u32 idx, u32 enable)
 			   enable ? "ENABLED" : "DISABLED");
 
 		mac_int_en1 = GSWSS_RGRD(pdata, GSWIPSS_IER1);
-		idx += GSWIPSS_IER1_LINK2_POS;
 		SET_N_BITS(mac_int_en1, idx, GSWIPSS_IER1_LINK2_WIDTH, enable);
 		GSWSS_RGWR(pdata, GSWIPSS_IER1, mac_int_en1);
 		break;
