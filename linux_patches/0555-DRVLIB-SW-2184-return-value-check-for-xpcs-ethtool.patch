From 3b69d0faf0f6f885d87259c95412b6071ca7c90f Mon Sep 17 00:00:00 2001
From: Dinesh Sudham <dineshx.sudham@intel.com>
Date: Thu, 18 Apr 2019 16:55:22 +0800
Subject: [PATCH] DRVLIB_SW-2184: return value check for xpcs ethtool

---
 drivers/net/ethernet/lantiq/ltq_eth_drv_xrx500.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/drivers/net/ethernet/lantiq/ltq_eth_drv_xrx500.c b/drivers/net/ethernet/lantiq/ltq_eth_drv_xrx500.c
index 68f4620e4b58..61dda0a06a08 100644
--- a/drivers/net/ethernet/lantiq/ltq_eth_drv_xrx500.c
+++ b/drivers/net/ethernet/lantiq/ltq_eth_drv_xrx500.c
@@ -327,7 +327,7 @@ int serdes_ethtool_get_link_ksettings(struct net_device *dev,
 	if (pdev) {
 #ifdef CONFIG_INTEL_XPCS
 		/* Speed Get in Ethtool */
-		xpcs_ethtool_ksettings_get(&pdev->dev, cmd);
+		ret = xpcs_ethtool_ksettings_get(&pdev->dev, cmd);
 #endif
 	} else {
 		pr_err("Cannot get Xpcs pdev for %s\n", dev->name);
